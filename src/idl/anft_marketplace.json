{
  "address": "8fpA4QsK2kwNd9JxqXd2S23FsspmFiKStmKYNBzGE8bK",
  "metadata": {
    "name": "anft_marketplace",
    "version": "0.1.0",
    "spec": "0.1.0"
  },
  "instructions": [
    {
      "name": "initializeMarketplace",
      "discriminator": [47, 81, 64, 0, 96, 56, 105, 7],
      "accounts": [
        { "name": "admin", "writable": true, "signer": true },
        { "name": "marketplace", "writable": true },
        { "name": "feeRecipient" },
        { "name": "systemProgram" }
      ],
      "args": [
        { "name": "feeBps", "type": "u16" }
      ]
    },
    {
      "name": "listNft",
      "discriminator": [88, 221, 93, 166, 63, 220, 106, 232],
      "accounts": [
        { "name": "seller", "writable": true, "signer": true },
        { "name": "marketplace", "writable": true },
        { "name": "nftMint" },
        { "name": "listing", "writable": true },
        { "name": "escrow", "writable": true },
        { "name": "sellerTokenAccount", "writable": true },
        { "name": "escrowTokenAccount", "writable": true },
        { "name": "tokenProgram" },
        { "name": "associatedTokenProgram" },
        { "name": "systemProgram" }
      ],
      "args": [
        { "name": "price", "type": "u64" },
        { "name": "duration", "type": "i64" },
        { "name": "isAuction", "type": "bool" }
      ]
    },
    {
      "name": "cancelListing",
      "discriminator": [41, 183, 50, 232, 230, 233, 157, 70],
      "accounts": [
        { "name": "authority", "writable": true, "signer": true },
        { "name": "marketplace" },
        { "name": "nftMint" },
        { "name": "listing", "writable": true },
        { "name": "escrow" },
        { "name": "escrowTokenAccount", "writable": true },
        { "name": "sellerTokenAccount", "writable": true },
        { "name": "tokenProgram" }
      ],
      "args": []
    },
    {
      "name": "buyNft",
      "discriminator": [96, 0, 28, 190, 49, 107, 83, 222],
      "accounts": [
        { "name": "buyer", "writable": true, "signer": true },
        { "name": "seller", "writable": true },
        { "name": "marketplace" },
        { "name": "feeRecipient", "writable": true },
        { "name": "nftMint" },
        { "name": "listing", "writable": true },
        { "name": "escrow" },
        { "name": "escrowTokenAccount", "writable": true },
        { "name": "buyerTokenAccount", "writable": true },
        { "name": "tokenProgram" },
        { "name": "associatedTokenProgram" },
        { "name": "systemProgram" }
      ],
      "args": []
    },
    {
      "name": "makeOffer",
      "discriminator": [214, 98, 97, 35, 59, 12, 44, 178],
      "accounts": [
        { "name": "offerer", "writable": true, "signer": true },
        { "name": "marketplace" },
        { "name": "nftMint" },
        { "name": "listing" },
        { "name": "offer", "writable": true },
        { "name": "offerEscrow", "writable": true },
        { "name": "systemProgram" }
      ],
      "args": [
        { "name": "amount", "type": "u64" },
        { "name": "duration", "type": "i64" }
      ]
    },
    {
      "name": "cancelOffer",
      "discriminator": [92, 203, 223, 40, 92, 89, 53, 119],
      "accounts": [
        { "name": "offerer", "writable": true, "signer": true },
        { "name": "nftMint" },
        { "name": "offer", "writable": true },
        { "name": "offerEscrow", "writable": true },
        { "name": "systemProgram" }
      ],
      "args": []
    },
    {
      "name": "acceptOffer",
      "discriminator": [227, 82, 234, 131, 1, 18, 48, 2],
      "accounts": [
        { "name": "seller", "writable": true, "signer": true },
        { "name": "offerer" },
        { "name": "marketplace" },
        { "name": "feeRecipient", "writable": true },
        { "name": "nftMint" },
        { "name": "listing", "writable": true },
        { "name": "escrow" },
        { "name": "escrowTokenAccount", "writable": true },
        { "name": "offererTokenAccount", "writable": true },
        { "name": "offer", "writable": true },
        { "name": "offerEscrow", "writable": true },
        { "name": "tokenProgram" },
        { "name": "associatedTokenProgram" },
        { "name": "systemProgram" }
      ],
      "args": []
    },
    {
      "name": "updatePrice",
      "discriminator": [61, 34, 117, 155, 75, 34, 123, 208],
      "accounts": [
        { "name": "seller", "signer": true },
        { "name": "nftMint" },
        { "name": "listing", "writable": true }
      ],
      "args": [
        { "name": "newPrice", "type": "u64" }
      ]
    },
    {
      "name": "pauseMarketplace",
      "discriminator": [110, 211, 176, 142, 101, 22, 196, 225],
      "accounts": [
        { "name": "admin", "signer": true },
        { "name": "marketplace", "writable": true }
      ],
      "args": []
    },
    {
      "name": "unpauseMarketplace",
      "discriminator": [239, 246, 197, 175, 255, 203, 133, 127],
      "accounts": [
        { "name": "admin", "signer": true },
        { "name": "marketplace", "writable": true }
      ],
      "args": []
    },
    {
      "name": "updateFee",
      "discriminator": [232, 253, 195, 247, 148, 212, 73, 222],
      "accounts": [
        { "name": "admin", "signer": true },
        { "name": "marketplace", "writable": true }
      ],
      "args": [
        { "name": "newFeeBps", "type": "u16" }
      ]
    },
    {
      "name": "updateFeeRecipient",
      "discriminator": [249, 0, 198, 35, 183, 123, 57, 188],
      "accounts": [
        { "name": "admin", "signer": true },
        { "name": "marketplace", "writable": true },
        { "name": "newFeeRecipient" }
      ],
      "args": []
    },
    {
      "name": "emergencyWithdraw",
      "discriminator": [239, 45, 203, 64, 150, 73, 218, 92],
      "accounts": [
        { "name": "admin", "writable": true, "signer": true },
        { "name": "marketplace", "writable": true }
      ],
      "args": [
        { "name": "amount", "type": "u64" }
      ]
    }
  ],
  "accounts": [
    { "name": "Marketplace", "discriminator": [70, 222, 41, 62, 78, 3, 32, 174] },
    { "name": "Listing", "discriminator": [218, 32, 50, 73, 43, 134, 26, 58] },
    { "name": "Offer", "discriminator": [215, 88, 60, 71, 170, 162, 73, 229] },
    { "name": "Escrow", "discriminator": [31, 213, 123, 187, 186, 22, 218, 155] },
    { "name": "OfferEscrow", "discriminator": [224, 0, 89, 76, 36, 36, 96, 33] }
  ],
  "types": [
    {
      "name": "Marketplace",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "admin", "type": "pubkey" },
          { "name": "feeRecipient", "type": "pubkey" },
          { "name": "feeBps", "type": "u16" },
          { "name": "paused", "type": "bool" },
          { "name": "listingCount", "type": "u64" },
          { "name": "bump", "type": "u8" }
        ]
      }
    },
    {
      "name": "Listing",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "seller", "type": "pubkey" },
          { "name": "nftMint", "type": "pubkey" },
          { "name": "price", "type": "u64" },
          { "name": "expirationTime", "type": "i64" },
          { "name": "isActive", "type": "bool" },
          { "name": "isAuction", "type": "bool" },
          { "name": "highestBid", "type": "u64" },
          { "name": "highestBidder", "type": "pubkey" },
          { "name": "createdAt", "type": "i64" },
          { "name": "bump", "type": "u8" }
        ]
      }
    },
    {
      "name": "Offer",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "offerer", "type": "pubkey" },
          { "name": "nftMint", "type": "pubkey" },
          { "name": "amount", "type": "u64" },
          { "name": "expirationTime", "type": "i64" },
          { "name": "isActive", "type": "bool" },
          { "name": "createdAt", "type": "i64" },
          { "name": "bump", "type": "u8" }
        ]
      }
    },
    {
      "name": "Escrow",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "bump", "type": "u8" }
        ]
      }
    },
    {
      "name": "OfferEscrow",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "offerer", "type": "pubkey" },
          { "name": "bump", "type": "u8" }
        ]
      }
    },
    {
      "name": "MarketplaceInitialized",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "admin", "type": "pubkey" },
          { "name": "feeRecipient", "type": "pubkey" },
          { "name": "feeBps", "type": "u16" }
        ]
      }
    },
    {
      "name": "ListingCreated",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "seller", "type": "pubkey" },
          { "name": "nftMint", "type": "pubkey" },
          { "name": "price", "type": "u64" },
          { "name": "isAuction", "type": "bool" },
          { "name": "expirationTime", "type": "i64" }
        ]
      }
    },
    {
      "name": "ListingCancelled",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "seller", "type": "pubkey" }
        ]
      }
    },
    {
      "name": "NftPurchased",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "buyer", "type": "pubkey" },
          { "name": "seller", "type": "pubkey" },
          { "name": "price", "type": "u64" },
          { "name": "fee", "type": "u64" }
        ]
      }
    },
    {
      "name": "OfferCreated",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "offerer", "type": "pubkey" },
          { "name": "amount", "type": "u64" },
          { "name": "expirationTime", "type": "i64" }
        ]
      }
    },
    {
      "name": "OfferCancelled",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "offerer", "type": "pubkey" },
          { "name": "amount", "type": "u64" }
        ]
      }
    },
    {
      "name": "OfferAccepted",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "buyer", "type": "pubkey" },
          { "name": "seller", "type": "pubkey" },
          { "name": "price", "type": "u64" },
          { "name": "fee", "type": "u64" }
        ]
      }
    },
    {
      "name": "PriceUpdated",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "nftMint", "type": "pubkey" },
          { "name": "oldPrice", "type": "u64" },
          { "name": "newPrice", "type": "u64" }
        ]
      }
    },
    {
      "name": "MarketplacePausedEvent",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "paused", "type": "bool" }
        ]
      }
    },
    {
      "name": "FeeUpdated",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "oldFeeBps", "type": "u16" },
          { "name": "newFeeBps", "type": "u16" }
        ]
      }
    },
    {
      "name": "FeeRecipientUpdated",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "oldRecipient", "type": "pubkey" },
          { "name": "newRecipient", "type": "pubkey" }
        ]
      }
    }
  ],
  "events": [
    {
      "name": "MarketplaceInitialized",
      "discriminator": [22, 167, 42, 34, 172, 55, 155, 14],
      "fields": [
        { "name": "admin", "type": "pubkey" },
        { "name": "feeRecipient", "type": "pubkey" },
        { "name": "feeBps", "type": "u16" }
      ]
    },
    {
      "name": "ListingCreated",
      "discriminator": [94, 164, 167, 255, 246, 186, 12, 96],
      "fields": [
        { "name": "seller", "type": "pubkey" },
        { "name": "nftMint", "type": "pubkey" },
        { "name": "price", "type": "u64" },
        { "name": "isAuction", "type": "bool" },
        { "name": "expirationTime", "type": "i64" }
      ]
    },
    {
      "name": "ListingCancelled",
      "discriminator": [11, 46, 163, 10, 103, 80, 139, 194],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "seller", "type": "pubkey" }
      ]
    },
    {
      "name": "NftPurchased",
      "discriminator": [68, 255, 85, 116, 240, 42, 66, 117],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "buyer", "type": "pubkey" },
        { "name": "seller", "type": "pubkey" },
        { "name": "price", "type": "u64" },
        { "name": "fee", "type": "u64" }
      ]
    },
    {
      "name": "OfferCreated",
      "discriminator": [31, 236, 215, 144, 75, 45, 157, 87],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "offerer", "type": "pubkey" },
        { "name": "amount", "type": "u64" },
        { "name": "expirationTime", "type": "i64" }
      ]
    },
    {
      "name": "OfferCancelled",
      "discriminator": [45, 42, 175, 214, 51, 192, 154, 9],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "offerer", "type": "pubkey" },
        { "name": "amount", "type": "u64" }
      ]
    },
    {
      "name": "OfferAccepted",
      "discriminator": [81, 238, 238, 115, 140, 18, 8, 20],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "buyer", "type": "pubkey" },
        { "name": "seller", "type": "pubkey" },
        { "name": "price", "type": "u64" },
        { "name": "fee", "type": "u64" }
      ]
    },
    {
      "name": "PriceUpdated",
      "discriminator": [154, 72, 87, 150, 246, 230, 23, 217],
      "fields": [
        { "name": "nftMint", "type": "pubkey" },
        { "name": "oldPrice", "type": "u64" },
        { "name": "newPrice", "type": "u64" }
      ]
    },
    {
      "name": "MarketplacePausedEvent",
      "discriminator": [116, 127, 13, 184, 61, 93, 201, 232],
      "fields": [
        { "name": "paused", "type": "bool" }
      ]
    },
    {
      "name": "FeeUpdated",
      "discriminator": [228, 75, 43, 103, 9, 196, 182, 4],
      "fields": [
        { "name": "oldFeeBps", "type": "u16" },
        { "name": "newFeeBps", "type": "u16" }
      ]
    },
    {
      "name": "FeeRecipientUpdated",
      "discriminator": [24, 150, 233, 92, 169, 221, 233, 244],
      "fields": [
        { "name": "oldRecipient", "type": "pubkey" },
        { "name": "newRecipient", "type": "pubkey" }
      ]
    }
  ],
  "errors": [
    { "code": 6000, "name": "MarketplacePaused", "msg": "Marketplace is paused" },
    { "code": 6001, "name": "AlreadyPaused", "msg": "Marketplace is already paused" },
    { "code": 6002, "name": "NotPaused", "msg": "Marketplace is not paused" },
    { "code": 6003, "name": "PriceMustBePositive", "msg": "Price must be greater than 0" },
    { "code": 6004, "name": "DurationTooShort", "msg": "Listing duration too short (minimum 24 hours)" },
    { "code": 6005, "name": "SellerDoesNotOwnNft", "msg": "Seller does not own the NFT" },
    { "code": 6006, "name": "ListingNotActive", "msg": "Listing is not active" },
    { "code": 6007, "name": "ListingExpired", "msg": "Listing has expired" },
    { "code": 6008, "name": "CannotBuyOwnListing", "msg": "Cannot buy your own listing" },
    { "code": 6009, "name": "UseAuctionBidding", "msg": "Use auction bidding for auction listings" },
    { "code": 6010, "name": "IncorrectPayment", "msg": "Incorrect payment amount" },
    { "code": 6011, "name": "Unauthorized", "msg": "Unauthorized" },
    { "code": 6012, "name": "FeeTooHigh", "msg": "Fee too high (maximum 10%)" },
    { "code": 6013, "name": "InvalidFeeRecipient", "msg": "Invalid fee recipient" },
    { "code": 6014, "name": "InvalidSeller", "msg": "Invalid seller account" },
    { "code": 6015, "name": "InvalidOfferer", "msg": "Invalid offerer account" },
    { "code": 6016, "name": "OfferAmountMustBePositive", "msg": "Offer amount must be greater than 0" },
    { "code": 6017, "name": "CannotOfferOnOwnListing", "msg": "Cannot make offer on your own listing" },
    { "code": 6018, "name": "OfferNotActive", "msg": "Offer is not active" },
    { "code": 6019, "name": "OfferExpired", "msg": "Offer has expired" },
    { "code": 6020, "name": "Overflow", "msg": "Arithmetic overflow" },
    { "code": 6021, "name": "NothingToWithdraw", "msg": "Nothing to withdraw" }
  ]
}
